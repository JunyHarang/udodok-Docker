{"version":3,"sources":["webpack://sleact-js-front/./apis/accessTokenUpdate.js","webpack://sleact-js-front/./apis/apiController.js","webpack://sleact-js-front/./components/DiscussionEditForm/index.jsx","webpack://sleact-js-front/./components/DiscussionEditForm/styles.jsx","webpack://sleact-js-front/./hooks/useInput.js","webpack://sleact-js-front/./pages/Discussion/DCEdit/index.jsx","webpack://sleact-js-front/./pages/Discussion/DCEdit/styles.jsx"],"names":["refresh_token","JSON","parse","localStorage","getItem","instance","axios","baseURL","timeout","interceptors","request","use","config","headers","err","console","dir","Promise","reject","response","res","data","access_token","withCredentials","originalRequest","errorState","message","accessTokenUpdate","url","method","setItem","stringify","accessToken","Authorization","EditForm","title","content","Id","users","useSelector","state","auth","user","titleValue","setTitleValue","useState","contentValue","setContentValue","onSubmit","e","params","apiController","user_id","titleChange","val","target","value","contentChange","height","pathname","Container","styled","WriteHeader","Form","Input","TextArea","Button","useInput","initialData","setValue","handler","useCallback","DCEdit","props","log","location","match","id","DCContainer"],"mappings":"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","file":"pages_Discussion_DCEdit_index_jsx.js","sourcesContent":["import axios from 'axios';\n\nconst refresh_token = JSON.parse(localStorage.getItem('refresh_token'));\n\nconst instance = axios.create({\n  baseURL: '/api',\n  timeout: 1000,\n});\n\ninstance.interceptors.request.use(\n  (config) => {\n    config.headers['Content-Type'] = 'application/json; charset=utf-8';\n    config.headers['Authorization'] = 'Bearer ' + refresh_token;\n    return config;\n  },\n  (err) => {\n    console.dir(err);\n    return Promise.reject(err);\n  },\n);\n\ninstance.interceptors.response.use(\n  (res) => {\n    return res.data;\n  },\n  (err) => {\n    console.dir(err);\n    return Promise.reject(err);\n  },\n);\n\nexport default instance;\n","import axios from 'axios';\nimport accessTokenUpdate from '@apis/accessTokenUpdate';\n\nconst access_token = JSON.parse(localStorage.getItem('access_token'));\n\nconst instance = axios.create({\n  baseURL: '/api',\n  withCredentials: true,\n  timeout: 1000,\n});\n\ninstance.interceptors.request.use(\n  (config) => {\n    config.headers['Content-Type'] = 'application/json; charset=utf-8';\n    config.headers['Authorization'] = 'Bearer ' + access_token;\n    return config;\n  },\n  (err) => {\n    console.dir(err);\n    return Promise.reject(err);\n  },\n);\n\ninstance.interceptors.response.use(\n  (res) => {\n    return res;\n  },\n  async (err) => {\n    // errorController(err);\n    const originalRequest = err.config;\n    const errorState = err.response.data.message;\n\n    if (errorState === '엑세스토큰 불일치') {\n      const { data } = await accessTokenUpdate({\n        url: '/token',\n        method: 'get',\n      });\n\n      localStorage.setItem('access_token', JSON.stringify(data.access_token));\n      const accessToken = data.access_token;\n\n      originalRequest.headers.Authorization = 'Bearer ' + accessToken;\n      return axios(originalRequest);\n    }\n    return Promise.reject(err);\n  },\n);\n\nexport default instance;\n","import React, { useState, useCallback } from 'react';\nimport { Container, Form, WriteHeader, Input, TextArea, Button } from '@components/DiscussionEditForm/styles';\nimport useInput from '@hooks/useInput';\nimport apiController from '@apis/apiController';\nimport { Link, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst EditForm = ({ title, content, Id }) => {\n  const users = useSelector((state) => state.auth.user);\n  // const [changeTitle, onChangeTitle] = useInput('');\n  // const [changeContent, onChangeContent] = useInput('');\n  const [titleValue, setTitleValue] = useState(title);\n  const [contentValue, setContentValue] = useState(content);\n\n  const onSubmit = (e) => {\n    // console.log(users.user_id);\n    let params = {\n      content: contentValue,\n      title: titleValue,\n    };\n\n    apiController({\n      url: `/users/discussions/edit/${Id}?userId=${users.user_id}`,\n      method: 'patch',\n      data: params,\n    });\n  };\n  const titleChange = (e) => {\n    const val = e.target.value;\n    setTitleValue(val);\n  };\n  const contentChange = (e) => {\n    const val = e.target.value;\n    setContentValue(val);\n  };\n  return (\n    <div style={{ height: '100%' }}>\n      <Container>\n        <WriteHeader>게시글 작성</WriteHeader>\n        <Form>\n          <div id=\"title\">\n            제목\n            <Input\n              id=\"title\"\n              name=\"title\"\n              placeholder=\"제목을 입력해주세요.\"\n              value={titleValue}\n              onChange={titleChange}\n            />\n          </div>\n          <div id=\"content\">\n            본문\n            <TextArea\n              id=\"content\"\n              name=\"content\"\n              placeholder=\"내용을 입력해주세요.\"\n              onChange={contentChange}\n              value={contentValue}\n            />\n          </div>{' '}\n          <Link to={{ pathname: `/discussion/content/${Id}` }}>\n            <Button type=\"submit\" onClick={onSubmit}>\n              수정하기\n            </Button>\n          </Link>\n        </Form>\n      </Container>\n    </div>\n  );\n};\n\nexport default EditForm;\n","import styled from '@emotion/styled';\n\nexport const Container = styled.div`\n  width: 1200px;\n  position: relative;\n  left: 50%;\n  transform: translateX(-50%);\n  margin-bottom: 200px;\n`;\n\nexport const WriteHeader = styled.h2`\n  padding: 50px 30px;\n`;\n\nexport const Form = styled.div`\n  margin: 0px 80px;\n  height: auto;\n  min-height: 100%;\n  padding-bottom: 300px;\n  font-size: 17px;\n  color: #0f4c81;\n  font-weight: bold;\n  & div {\n    margin-bottom: 20px;\n  }\n\n  & div#content {\n    margin-top: 50px;\n  }\n`;\n\nexport const Input = styled.input`\n  border-radius: 3px;\n  border: 1px solid #ced4da;\n  transition: border 80ms ease-out, box-shadow 80ms ease-out;\n  box-sizing: border-box;\n  margin: 10px 0;\n  margin-bottom: 0px;\n  width: 100%;\n  color: rgba(var(--sk_primary_foreground, 29, 28, 29), 1);\n  background-color: rgba(var(--sk_primary_background, 255, 255, 255), 1);\n  padding: 12px;\n  height: 35px;\n  padding-top: 11px;\n  padding-bottom: 13px;\n  line-height: 1.33333333;\n  font-size: 14px;\n  resize: none;\n\n  &:focus {\n    --saf-0: rgba(var(--sk_highlight, 18, 100, 163), 1);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 0 0 2px rgba(29, 155, 209, 0.3);\n  }\n`;\n\nexport const TextArea = styled.textarea`\n  resize: none;\n  border-radius: 3px;\n  border: 1px solid #ced4da;\n  transition: border 80ms ease-out, box-shadow 80ms ease-out;\n  box-sizing: border-box;\n  margin: 12px 0;\n  margin-bottom: 0px;\n  width: 100%;\n  color: rgba(var(--sk_primary_foreground, 29, 28, 29), 1);\n  background-color: rgba(var(--sk_primary_background, 255, 255, 255), 1);\n  padding: 12px;\n  height: 300px;\n  padding-top: 11px;\n  padding-bottom: 13px;\n  line-height: 1.33333333;\n  font-size: 14px;\n\n  &:focus {\n    --saf-0: rgba(var(--sk_highlight, 18, 100, 163), 1);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 0 0 2px rgba(29, 155, 209, 0.3);\n  }\n`;\n\nexport const Button = styled.button`\n  border: 0px;\n  border-radius: 5px;\n  background-color: #0f4c81;\n  color: white;\n  width: 120px;\n  height: 45px;\n  font-weight: bold;\n  float: right;\n  margin-top: 15px;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);\n  &:hover {\n    background-color: rgba(15, 76, 129, 0.8);\n    border: none;\n    cursor: pointer;\n  }\n  &:focus {\n    --saf-0: rgba(var(--sk_highlight, 18, 100, 163), 1);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 0 0 2px rgba(29, 155, 209, 0.3);\n  }\n\n  & > a {\n    text-decoration: none;\n    color: white;\n  }\n`;\n","import { useCallback, useState } from 'react';\n\nconst useInput = (initialData) => {\n  const [value, setValue] = useState(initialData);\n  const handler = useCallback((e) => {\n    setValue(e.target.value);\n  }, []);\n  return [value, handler, setValue];\n};\n\nexport default useInput;\n","import React, { useState } from 'react';\nimport Header from '@layouts/Header';\nimport Footer from '@layouts/Footer';\nimport DiscussionEditForm from '@components/DiscussionEditForm';\nimport { Container, DCContainer } from '@pages/Discussion/DCEdit/styles';\n\nconst DCEdit = (props) => {\n  console.log('EDIT');\n  // console.log(props.location.state);\n  const title = props.location.state.title;\n  const content = props.location.state.content;\n  const Id = props.match.params.id;\n\n  return (\n    <div style={{ height: '100%' }}>\n      <DCContainer>\n        <Header />\n        <Container>\n          <DiscussionEditForm Id={Id} title={title} content={content}></DiscussionEditForm>\n        </Container>\n      </DCContainer>\n      <Footer />\n    </div>\n  );\n};\n\nexport default DCEdit;\n","import styled from '@emotion/styled';\n\nexport const Container = styled.div`\n  width: 1200px;\n  height: 100vh;\n  position: relative;\n  left: 50%;\n  transform: translateX(-50%);\n  margin-bottom: 100px;\n`;\n\nexport const DCContainer = styled.div`\n  height: auto;\n  min-height: 100%;\n  padding-bottom: 300px;\n`;\n"],"sourceRoot":""}